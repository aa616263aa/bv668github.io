(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1216:function(t,e,n){var r=n(78),a=/"/g;t.exports=function(t,e,n,i){var s=String(r(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),l+">"+s+"</"+e+">"}},1217:function(t,e,n){var r=n(34);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},179:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return s}));var r=function(t,e,n){var r;return function(){var a=null,i=arguments,s=function(){r=null,n||t.apply(a,i)},l=n&&!r;clearTimeout(r),r=window.setTimeout(s,e),l&&t.apply(a,i)}},a=function(t){var e=t.replace("#","");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"},i=function(t){var e="";if(t>=60&&t<3600){var n=Math.floor(t/60);e=n+" Min";var r=60===n?0:Math.floor(t%60);return e+(r>0?" "+r+" Sec":"")}if(t>=3600&&t<86400){var a=Math.floor(t/3600);e=a+" Hr";var i=t%3600<60||24===a?0:Math.floor(t%3600/60);return e+(i>0?" "+i+" Min":"")}if(t>=86400){var s=Math.floor(t/86400);e=s+" Day";var l=t%86400<3600||s>=364?0:Math.floor(t%86400/3600);return e+(l>0?" "+l+" Hr":"")}return Math.floor(t)+" Sec"},s=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=1024),void 0===n&&(n=!1);var r=t;return t.length>e&&(r=t.substring(0,e)),n&&(r+="..."),r};function l(t){try{var e=String(t).toLowerCase();return Boolean(JSON.parse(e))}catch(n){return!1}}function o(t){return t.slice().sort((function(t,e){return t-e}))}function c(t,e){var n,r,a,i=(r=1,(a=e)<(n=0)?n:a>r?r:a),s=(t.length-1)*i,l=Math.floor(s),o=s-l;return void 0!==t[l+1]?t[l]+o*(t[l+1]-t[l]):t[l]}var u=function(t,e){var n=o(t);return e.map((function(t){return c(n,t)}))},p=/{{(.*?)}}/g,f=function(t){return(t||"").replace(/\b(\w)/g,(function(t){return t.toUpperCase()}))},d=function(t){var e=t.user,n=null!=e&&e.name?e.name.split(" ").shift():"";return f(n)},v=function(t){var e=t.user;if(e&&e.name){var n=e.name.split(" ").length>1?e.name.split(" ").pop():"";return f(n)}return""},m=function(t){var e,n=t.conversation,r=n.meta,a=r.assignee,i=r.sender,s=n.id;return{"contact.name":f((null==i?void 0:i.name)||""),"contact.first_name":d({user:i}),"contact.last_name":v({user:i}),"contact.email":null==i?void 0:i.email,"contact.phone":null==i?void 0:i.phone_number,"contact.id":null==i?void 0:i.id,"conversation.id":s,"agent.name":f((null==a?void 0:a.name)||""),"agent.first_name":d({user:a}),"agent.last_name":v({user:a}),"agent.email":null!=(e=null==a?void 0:a.email)?e:""}},g=function(t){var e=t.message,n=t.variables;return e.replace(p,(function(t,e){return n[e.trim()]?n[e.trim().toLowerCase()]:""}))},b=function(t){var e=t.message,n=t.variables,r=e.replace(/```(?:.|\n)+?```/g,"").match(p);return r?r.map((function(t){return t.replace("{{","").replace("}}","").trim()})).filter((function(t){return!n[t]})):[]}},1958:function(t,e,n){},2089:function(t,e,n){"use strict";var r=n(36),a=n(1216);r({target:"String",proto:!0,forced:n(1217)("link")},{link:function(t){return a(this,"a","href",t)}})},2090:function(t,e,n){"use strict";n(1958)},2119:function(t,e,n){"use strict";n.r(e);n(30),n(9),n(6),n(8),n(11),n(10),n(12),n(31);var r=n(4),a=n(179),i=n(1146),s=(n(39),n(47),n(22),{name:"GroupedAvatars",components:{Thumbnail:n(71).a},props:{users:{type:Array,default:function(){return[]}}}}),l=n(1),o={name:"AvailableAgents",components:{GroupedAvatars:Object(l.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex"},t._l(t.users,(function(t,e){return n("span",{key:t.id,class:(e?"-ml-4":"")+" inline-block rounded-full text-white shadow-solid"},[n("thumbnail",{attrs:{size:"36px",username:t.name,src:t.avatar,"has-border":""}})],1)})),0)}),[],!1,null,null,null).exports},props:{agents:{type:Array,default:function(){return[]}}},computed:{users:function(){return this.agents.slice(0,4).map((function(t){return{id:t.id,avatar:t.avatar_url,name:t.name}}))}}},c=Object(l.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("grouped-avatars",{attrs:{users:t.users}})}),[],!1,null,null,null).exports,u=n(404),p=n(767);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"TeamAvailability",components:{AvailableAgents:c},mixins:[u.a,i.a,p.a],props:{availableAgents:{type:Array,default:function(){}},hasConversation:{type:Boolean,default:!1},unreadCount:{type:Number,default:0}},computed:d(d({},Object(r.mapGetters)({widgetColor:"appConfig/getWidgetColor"})),{},{textColor:function(){return Object(a.c)(this.widgetColor)},isOnline:function(){var t=this.channelConfig.workingHoursEnabled,e=this.availableAgents.length>0;return t?this.isInBetweenTheWorkingHours:e}}),methods:{startConversation:function(){this.$emit("start-conversation")}}},g=Object(l.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-4 shadow-sm rounded-md bg-white dark:bg-slate-700"},[n("div",{staticClass:"flex items-center justify-between "},[n("div",{staticClass:"  "},[n("div",{staticClass:"text-sm font-medium text-slate-700 dark:text-slate-50"},[t._v("\n        "+t._s(t.isOnline?t.$t("TEAM_AVAILABILITY.ONLINE"):t.$t("TEAM_AVAILABILITY.OFFLINE"))+"\n      ")]),t._v(" "),n("div",{staticClass:"text-sm mt-1 text-slate-500 dark:text-slate-100"},[t._v("\n        "+t._s(t.replyWaitMessage)+"\n      ")])]),t._v(" "),t.isOnline?n("available-agents",{attrs:{agents:t.availableAgents}}):t._e()],1),t._v(" "),n("button",{staticClass:"w-full rounded-md bg-woot-600 px-3 py-2 mt-2 text-sm font-semibold text-white shadow-sm hover:bg-woot-500\n     focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-woot-600",style:{background:t.widgetColor},attrs:{id:"start-conversation"},on:{click:t.startConversation}},[n("span",{staticClass:"pr-2 text-sm"},[t._v("\n      "+t._s(t.hasConversation?t.$t("CONTINUE_CONVERSATION"):t.$t("START_CONVERSATION"))+"\n    ")])])])}),[],!1,null,null,null).exports,b=(n(2089),n(351)),h={components:{FluentIcon:b.a},props:{link:{type:String,default:""},title:{type:String,default:""}},data:function(){return{}},methods:{onClick:function(){this.$emit("click",this.link)}}},w={components:{ArticleListItem:Object(l.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"py-1 flex items-center justify-between -mx-1 px-1 hover:bg-slate-25 dark:hover:bg-slate-600 rounded cursor-pointer text-slate-700 dark:text-slate-50 dark:hover:text-slate-25 hover:text-slate-900 ",attrs:{role:"button"},on:{click:t.onClick}},[n("button",{staticClass:"underline-offset-2 text-sm leading-6 text-left"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),n("span",{staticClass:"pl-1 arrow"},[n("fluent-icon",{attrs:{icon:"arrow-right",size:"14"}})],1)])}),[],!1,null,null,null).exports},props:{articles:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{onClick:function(t){this.$emit("click",t)}}},y=Object(l.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"py-2",attrs:{role:"list"}},t._l(t.articles,(function(e){return n("article-list-item",{key:e.slug,attrs:{link:e.link,title:e.title},on:{click:t.onClick}})})),1)}),[],!1,null,null,null).exports;function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={components:{FluentIcon:b.a,ArticleList:y},props:{title:{type:String,default:""},articles:{type:Array,default:function(){return[]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.mapGetters)({widgetColor:"appConfig/getWidgetColor"})),methods:{onArticleClick:function(t){this.$emit("view",t)}}},A=_,j=(n(2090),{components:{CategoryCard:Object(l.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"text-sm font-medium text-slate-800 dark:text-slate-50 mb-0"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),n("article-list",{attrs:{articles:t.articles},on:{click:t.onArticleClick}}),t._v(" "),n("button",{staticClass:"inline-flex text-sm font-medium rounded-md px-2 py-1 -ml-2 leading-6 text-slate-800 dark:text-slate-50 justify-between items-center hover:bg-slate-25 dark:hover:bg-slate-800 see-articles",style:{color:t.widgetColor},on:{click:function(e){return t.$emit("view-all")}}},[n("span",{staticClass:"pr-2 text-sm"},[t._v(t._s(t.$t("PORTAL.VIEW_ALL_ARTICLES")))]),t._v(" "),n("fluent-icon",{attrs:{icon:"arrow-right",size:"14"}})],1)],1)}),[],!1,null,"109d0cc8",null).exports},props:{articles:{type:Array,default:function(){return[]}},categoryPath:{type:String,default:""}},methods:{onArticleClick:function(t){this.$emit("view",t)}}}),k=Object(l.a)(j,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("category-card",{attrs:{title:t.$t("PORTAL.POPULAR_ARTICLES"),articles:t.articles.slice(0,6)},on:{"view-all":function(e){return t.$emit("view-all")},view:t.onArticleClick}})}),[],!1,null,null,null).exports,x=Object(l.a)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"py-4 space-y-4 bg-white dark:bg-slate-700"},[n("div",{staticClass:"space-y-2 animate-pulse "},[n("div",{staticClass:"h-6 bg-slate-100 dark:bg-slate-500 rounded w-2/5"})]),t._v(" "),n("div",{staticClass:"space-y-2 animate-pulse "},[n("div",{staticClass:"h-4 bg-slate-100 dark:bg-slate-500 rounded"}),t._v(" "),n("div",{staticClass:"h-4 bg-slate-100 dark:bg-slate-500 rounded"}),t._v(" "),n("div",{staticClass:"h-4 bg-slate-100 dark:bg-slate-500 rounded"})]),t._v(" "),n("div",{staticClass:"space-y-2 animate-pulse "},[n("div",{staticClass:"h-4 bg-slate-100 dark:bg-slate-500 rounded w-1/5"})])])}],!1,null,null,null).exports,P=n(740);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={name:"Home",components:{ArticleHero:k,TeamAvailability:g,ArticleCardSkeletonLoader:x},mixins:[u.a,P.a],props:{hasFetched:{type:Boolean,default:!1},isCampaignViewClicked:{type:Boolean,default:!1}},computed:S(S({},Object(r.mapGetters)({availableAgents:"agent/availableAgents",activeCampaign:"campaign/getActiveCampaign",conversationSize:"conversation/getConversationSize",unreadMessageCount:"conversation/getUnreadMessageCount",popularArticles:"article/popularArticles",articleUiFlags:"article/uiFlags"})),{},{portal:function(){return window.chatwootWebChannel.portal},showArticles:function(){return this.portal&&!this.articleUiFlags.isFetching&&this.popularArticles.length}}),mounted:function(){this.portal&&0===this.popularArticles.length&&this.$store.dispatch("article/fetch",{slug:this.portal.slug,locale:"en"})},methods:{startConversation:function(){return this.preChatFormEnabled&&!this.conversationSize?this.replaceRoute("prechat-form"):this.replaceRoute("messages")},openArticleInArticleViewer:function(t){this.$router.push({name:"article-viewer",params:{link:"".concat(t,"?show_plain_layout=true")}})},viewAllArticles:function(){var t=window.chatwootWebChannel,e=t.portal.slug,n=t.locale,r=void 0===n?"en":n;this.openArticleInArticleViewer("/hc/".concat(e,"/").concat(r))}}},F=Object(l.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"z-50 rounded-md w-full flex flex-1 flex-col",class:{"pb-2":t.showArticles,"justify-end":!t.showArticles}},[n("div",{staticClass:"px-4 pt-4 w-full"},[n("team-availability",{attrs:{"available-agents":t.availableAgents,"has-conversation":!!t.conversationSize,"unread-count":t.unreadMessageCount},on:{"start-conversation":t.startConversation}})],1),t._v(" "),t.showArticles?n("div",{staticClass:"px-4 py-2 w-full"},[n("div",{staticClass:"p-4 rounded-md bg-white dark:bg-slate-700 shadow-sm w-full"},[t.articleUiFlags.isFetching||t.articleUiFlags.isError||!t.popularArticles.length?t._e():n("article-hero",{attrs:{articles:t.popularArticles},on:{view:t.openArticleInArticleViewer,"view-all":t.viewAllArticles}})],1)]):t._e(),t._v(" "),t.articleUiFlags.isFetching?n("div",{staticClass:"px-4 py-2 w-full"},[n("div",{staticClass:"p-4 rounded-md bg-white dark:bg-slate-700 shadow-sm w-full"},[n("article-card-skeleton-loader")],1)]):t._e()])}),[],!1,null,null,null);e.default=F.exports},352:function(t,e,n){"use strict";var r=n(36),a=n(241).trim;r({target:"String",proto:!0,forced:n(879)("trim")},{trim:function(){return a(this)}})},879:function(t,e,n){var r=n(34),a=n(259);t.exports=function(t){return r((function(){return!!a[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||a[t].name!==t}))}}}]);
//# sourceMappingURL=32-3f20d30071d0be894d12.chunk.js.map